<!-- novo-aluno.html -->
<div class="container-novo-aluno">
  <div class="page-header">
    <button class="btn-voltar" (click)="cancelar()" aria-label="Voltar">
    <span class="material-icons">arrow_back</span>
    </button>
    <h1>Novo Aluno</h1>
  </div>
  <form [formGroup]="alunoForm" class="form-aluno">
    <!-- Foto do Aluno -->
    <div class="campo-foto">
      <label class="foto-label">Foto do Aluno</label>
      <div class="foto-container">
        <div class="foto-preview">
          <img
            *ngIf="fotoSelecionada"
            [src]="fotoSelecionada"
            alt="Foto selecionada"
            class="foto-img"
          />
          <div *ngIf="!fotoSelecionada" class="foto-placeholder-novo">
            Sem foto
          </div>
        </div>
        <label class="btn-escolher-foto">
          <span class="material-icons">photo_camera</span>
          Escolher Foto
          <input
            type="file"
            accept=".jpg,.jpeg,image/jpeg"
            (change)="onEscolherFoto($event)"
            hidden
          />
        </label>
      </div>
      <div class="erro" *ngIf="erroFoto">{{ erroFoto }}</div>
    </div>
    <!-- Nome Completo -->
    <div class="campo-form">
      <label for="nomeCompleto">Nome Completo</label>
      <div class="input-wrapper">
        <img src="assets/icons/user.svg" alt="" class="input-icon">
        <input
          type="text"
          id="nomeCompleto"
          formControlName="nomeCompleto"
          placeholder="Digite o nome do aluno"
          [class.input-error]="nomeCompleto?.invalid && nomeCompleto?.touched"
        />
      </div>
      <span class="erro" *ngIf="nomeCompleto?.invalid && nomeCompleto?.touched">
        Nome completo é obrigatório (mínimo 3 caracteres)
      </span>
    </div>

      <!-- Email -->
    <div class="campo-form">
      <label for="email">Email</label>
      <div class="input-wrapper">
        <img src="assets/icons/email.svg" alt="" class="input-icon">
        <input
          type="email"
          id="email"
          formControlName="email"
          placeholder="aluno@email.com"
          [class.input-error]="email?.invalid && email?.touched"
        />
      </div>
      <span class="erro" *ngIf="email?.invalid && email?.touched">
        Digite um email válido
      </span>
    </div>

    <!-- CPF -->
    <div class="campo-form">
      <label for="cpf">CPF</label>
      <div class="input-wrapper">
      <img src="assets/icons/cpf.svg" alt="" class="input-icon">
        <input
          type="text"
          id="cpf"
          formControlName="cpf"
          placeholder="000.000.000-00"
          (input)="onCpfInput($event)"
          maxlength="14"
          [class.input-error]="cpf?.invalid && cpf?.touched"
        />
      </div>
      <span class="erro" *ngIf="cpf?.invalid && cpf?.touched">
        CPF inválido
      </span>
    </div>

    <!-- Telefone -->
    <div class="campo-form">
      <label for="telefone">Telefone</label>
      <div class="input-wrapper">
        <img src="assets/icons/phone.svg" alt="" class="input-icon">
        <input
          type="text"
          id="telefone"
          formControlName="telefone"
          placeholder="(00) 00000-0000"
          (input)="onTelefoneInput($event)"
          maxlength="15"
          [class.input-error]="telefone?.invalid && telefone?.touched"
        />
      </div>
      <span class="erro" *ngIf="telefone?.invalid && telefone?.touched">
        Telefone inválido
      </span>
    </div>
    <!-- Botões -->
    <div class="acoes">
      <button type="button" class="btn-cancelar" (click)="cancelar()">Cancelar</button>
      <button
        type="submit"
        class="btn-cadastrar"
        (click)="cadastrar()"
        [disabled]="!formularioValido"
      >
        Cadastrar
      </button>
    </div>
  </form>
</div>
