<!-- Mostra o bloco de loading somente quando a flag 'carregando' for true -->
<div *ngIf="carregando" class="loading">
  <p>Carregando dados do aluno...</p>
</div>

<!-- Renderiza o bloco de erro quando não está carregando e existe uma mensagem em 'erro' -->
<div *ngIf="!carregando && erro" class="error-container">
  <p class="error-message">{{ erro }}</p>
  <button class="btn-voltar" (click)="voltarParaLista()">Voltar para Lista</button>
</div>

<!-- CONTEÚDO DO ALUNO -->
<!-- Renderiza o conteúdo principal somente quando não está carregando e o objeto 'aluno' existe -->
<div class="app-container" *ngIf="!carregando && aluno">
  <div class="student-card">

    <!-- Cabeçalho do card com título e botão de voltar -->
    <header class="card-header">
      <button class="botao-voltar-topo" (click)="voltarParaLista()" aria-label="Voltar">
        <span class="material-icons">arrow_back</span>
      </button>
      <h1 class="page-title">Detalhes do Aluno</h1>
    </header>

    <!-- Container da foto do aluno -->
    <div class="photo-container">
      <div class="photo-wrapper">
        <img
          [src]="aluno.urlFoto || aluno.foto || 'assets/icon/placeholder-user.png'"
          (error)="onImgError($event)"
          class="photo-image"
          [alt]="'Foto de ' + aluno.nome"
        />
      </div>
    </div>

    <!-- Formulário somente leitura para exibir os dados do aluno -->
    <form class="student-form">
      <!-- Campo: Nome Completo -->
      <div class="form-group">
        <!-- Rótulo do campo -->
        <label class="form-label">Nome Completo</label>
        <!-- Wrapper com ícone dentro do input -->
        <div class="input-wrapper">
          <img src="assets/icons/user.svg" alt="" class="input-icon">
          <!-- Valor do nome vindo do objeto 'aluno', disabled para modo leitura -->
          <input class="form-input" [value]="aluno.nome" disabled>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">CPF</label>
        <div class="input-wrapper">
          <img src="assets/icons/cpf.svg" alt="" class="input-icon">
          <!-- Exibe CPF, sem edição -->
          <input class="form-input" [value]="aluno.cpf" disabled>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Email</label>
        <div class="input-wrapper">
          <img src="assets/icons/email.svg" alt="" class="input-icon">
          <input class="form-input" [value]="aluno.email" disabled>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Telefone</label>
        <div class="input-wrapper">
          <img src="assets/icons/phone.svg" alt="" class="input-icon">
          <input class="form-input" [value]="aluno.telefone" disabled>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Matrícula</label>
        <div class="input-wrapper">
          <img src="assets/icons/hashtag.svg" alt="" class="input-icon">
          <input class="form-input" [value]="aluno.matricula" disabled>
        </div>
      </div>

      <!-- campo status -->
      <div class="form-group">
        <label class="form-label">Status</label>
        <div class="status-container">
          <!--Bolinha/indicador--> <!-- 90: Adiciona a classe 'status-active' se o status for 'Ativo' -->
          <span class="status-indicator"
                [class.status-active]="aluno.status === 'Ativo'"
                [class.status-inactive]="aluno.status === 'Inativo'"></span>
                <!-- Texto do status exibido ao lado do indicador -->
          <span class="status-text">{{ aluno.status }}</span>
        </div>
      </div>
    </form>

    <!-- BOTÃO -->
    <button class="btn-voltar" (click)="voltarParaLista()">Voltar</button>
  </div>
</div>
